<!doctype html>
<html lang="en">
<head>
  <title>Text Replacer</title>
  <meta charset="UTF-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />
  <link href="https://unpkg.com/chota@latest" rel="stylesheet" />
  <style>
    input[type="text"], textarea {
      font-family: 'Courier New', Courier, monospace;
    }
  </style>
  <style>
    body.dark {
      --bg-color: #000;
      --bg-secondary-color: #131316;
      --font-color: #f5f5f5;
      --color-grey: #ccc;
      --color-darkGrey: #777;
    }

    body.dark :is(input, textarea, button, select) {
      color: var(--font-color);
      background-color: #272822;
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Text replacements</h1>
    </header>
    <main role="main">
      <section>
        <fieldset>
          <legend>Preset</legend>
          <p class="grouped">
            <select id="preset-selection">
            </select>
          </p>
          <p class="grouped">
            <button id="preset-load" title="Loads the preset. THIS WILL OVERRIDE YOUR CURRENT ONE">Load</button>
            <button id="preset-view" title="Shows the preset contents in a separate dialog" disabled>View</button>
          </p>
        </fieldset>
      </section>
      <section id="keys">
        <fieldset>
          <legend>Key -> replacement</legend>
          <div id="key-inputs"></div>
          <button id="new-replacement-pairs">Add</button>
          <button id="sort-replacement-pairs" disabled>Sort</button>
          <button id="toggle-replacement-pairs" disabled>Toggle</button>
        </fieldset>
      </section>
      <section id="input">
        <fieldset>
          <legend>Source</legend>
          <p class="grouped">
            <button id="do-replacements">Start replacing text</button>
          </p>
          <textarea id="text-source" rows="15"></textarea>
          <small id="replace-status">...</small>
        </fieldset>
      </section>
      <section id="output">
        <fieldset>
          <legend>Result</legend>
          <p class="grouped">
            <button id="copy-result">Copy result</button>
          </p>
          <textarea id="text-result" readonly rows="15"></textarea>
        </fieldset>
      </section>
    </main>
  </div>
  <template id="template-replace-pairs">
    <p class="grouped">
      <input class="find-input" placeholder="find" type="text" />
      <input class="replace-input" placeholder="replace" type="text" />
      <button type="button">x</button>
    </p>
  </template>
  <script src="index.js"></script>
  <script>
    if (window.matchMedia &&
        window.matchMedia('(prefers-color-scheme: dark)').matches) {
      document.body.classList.add('dark');
    }
  </script>
</body>
</html>
